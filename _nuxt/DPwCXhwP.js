function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./B4ktqcAC.js","./DrdBAMLz.js","./entry.C20eVz5Z.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{L as N,ap as Ie,c as f,r as ke,as as k,at as Le,N as Ne,o as Ae,am as Pe,au as Ee,P as L,av as A,aw as B,a9 as M,g as te,ax as je,ay as ne,_ as se,q as T,t as oe,v as Oe,z as v,A as b,B as Te,y as ae,m as J,ah as Re,ai as Be,a6 as Me,ad as ze,x as De,az as Ue}from"./DrdBAMLz.js";import{u as He,m as z,s as ie,e as le,f as Ge,j as Ke,V as We,d as qe,a as Fe}from"./XwAujphh.js";import{c as Je,_ as Ze,a as Xe}from"./HhLxC1Ix.js";const Z=Symbol.for("vuetify:layout"),Ye=Symbol.for("vuetify:layout-item"),X=1e3,Qe=N({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),et=(e,t,n,o)=>{let s={top:0,left:0,right:0,bottom:0};const a=[{id:"",layer:{...s}}];for(const l of e){const r=t.get(l),d=n.get(l),g=o.get(l);if(!r||!d||!g)continue;const S={...s,[r.value]:parseInt(s[r.value],10)+(g.value?parseInt(d.value,10):0)};a.push({id:l,layer:S}),s=S}return a};function tt(e){const t=Ie(Z,null),n=f(()=>t?t.rootZIndex.value-100:X),o=ke([]),s=k(new Map),a=k(new Map),l=k(new Map),r=k(new Map),d=k(new Map),{resizeRef:g,contentRect:S}=He(),be=f(()=>{const c=new Map,m=e.overlaps??[];for(const i of m.filter(p=>p.includes(":"))){const[p,u]=i.split(":");if(!o.value.includes(p)||!o.value.includes(u))continue;const y=s.get(p),_=s.get(u),x=a.get(p),V=a.get(u);!y||!_||!x||!V||(c.set(u,{position:y.value,amount:parseInt(x.value,10)}),c.set(p,{position:_.value,amount:-parseInt(V.value,10)}))}return c}),C=f(()=>{const c=[...new Set([...l.values()].map(i=>i.value))].sort((i,p)=>i-p),m=[];for(const i of c){const p=o.value.filter(u=>{var y;return((y=l.get(u))==null?void 0:y.value)===i});m.push(...p)}return et(m,s,a,r)}),H=f(()=>!Array.from(d.values()).some(c=>c.value)),w=f(()=>C.value[C.value.length-1].layer),_e=f(()=>({"--v-layout-left":L(w.value.left),"--v-layout-right":L(w.value.right),"--v-layout-top":L(w.value.top),"--v-layout-bottom":L(w.value.bottom),...H.value?void 0:{transition:"none"}})),$=f(()=>C.value.slice(1).map((c,m)=>{let{id:i}=c;const{layer:p}=C.value[m],u=a.get(i),y=s.get(i);return{id:i,...p,size:Number(u.value),position:y.value}})),G=c=>$.value.find(m=>m.id===c),P=Le("createLayout"),K=Ne(!1);Ae(()=>{K.value=!0}),Pe(Z,{register:(c,m)=>{let{id:i,order:p,position:u,layoutSize:y,elementSize:_,active:x,disableTransitions:V,absolute:we}=m;l.set(i,p),s.set(i,u),a.set(i,y),r.set(i,x),V&&d.set(i,V);const W=Ee(Ye,P==null?void 0:P.vnode).indexOf(c);W>-1?o.value.splice(W,0,i):o.value.push(i);const q=f(()=>$.value.findIndex(I=>I.id===i)),E=f(()=>n.value+C.value.length*2-q.value*2),$e=f(()=>{const I=u.value==="left"||u.value==="right",j=u.value==="right",Ve=u.value==="bottom",F={[u.value]:0,zIndex:E.value,transform:`translate${I?"X":"Y"}(${(x.value?0:-110)*(j||Ve?-1:1)}%)`,position:we.value||n.value!==X?"absolute":"fixed",...H.value?void 0:{transition:"none"}};if(!K.value)return F;const h=$.value[q.value];if(!h)throw new Error(`[Vuetify] Could not find layout item "${i}"`);const O=be.value.get(i);return O&&(h[O.position]+=O.amount),{...F,height:I?`calc(100% - ${h.top}px - ${h.bottom}px)`:_.value?`${_.value}px`:void 0,left:j?void 0:`${h.left}px`,right:j?`${h.right}px`:void 0,top:u.value!=="bottom"?`${h.top}px`:void 0,bottom:u.value!=="top"?`${h.bottom}px`:void 0,width:I?_.value?`${_.value}px`:void 0:`calc(100% - ${h.left}px - ${h.right}px)`}}),xe=f(()=>({zIndex:E.value-1}));return{layoutItemStyles:$e,layoutItemScrimStyles:xe,zIndex:E}},unregister:c=>{l.delete(c),s.delete(c),a.delete(c),r.delete(c),d.delete(c),o.value=o.value.filter(m=>m!==c)},mainRect:w,mainStyles:_e,getLayoutItem:G,items:$,layoutRect:S,rootZIndex:n});const Se=f(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),Ce=f(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:Se,layoutStyles:Ce,getLayoutItem:G,items:$,layoutRect:S,layoutRef:g}}const ce=A.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),re=A.reduce((e,t)=>{const n="offset"+B(t);return e[n]={type:[String,Number],default:null},e},{}),ue=A.reduce((e,t)=>{const n="order"+B(t);return e[n]={type:[String,Number],default:null},e},{}),Y={col:Object.keys(ce),offset:Object.keys(re),order:Object.keys(ue)};function nt(e,t,n){let o=e;if(!(n==null||n===!1)){if(t){const s=t.replace(e,"");o+=`-${s}`}return e==="col"&&(o="v-"+o),e==="col"&&(n===""||n===!0)||(o+=`-${n}`),o.toLowerCase()}}const st=["auto","start","end","center","baseline","stretch"],ot=N({cols:{type:[Boolean,String,Number],default:!1},...ce,offset:{type:[String,Number],default:null},...re,order:{type:[String,Number],default:null},...ue,alignSelf:{type:String,default:null,validator:e=>st.includes(e)},...z(),...ie()},"VCol"),R=M()({name:"VCol",props:ot(),setup(e,t){let{slots:n}=t;const o=f(()=>{const s=[];let a;for(a in Y)Y[a].forEach(r=>{const d=e[r],g=nt(a,r,d);g&&s.push(g)});const l=s.some(r=>r.startsWith("v-col-"));return s.push({"v-col":!l||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),s});return()=>{var s;return te(e.tag,{class:[o.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),D=["start","end","center"],de=["space-between","space-around","space-evenly"];function U(e,t){return A.reduce((n,o)=>{const s=e+B(o);return n[s]=t(),n},{})}const at=[...D,"baseline","stretch"],fe=e=>at.includes(e),pe=U("align",()=>({type:String,default:null,validator:fe})),it=[...D,...de],ve=e=>it.includes(e),me=U("justify",()=>({type:String,default:null,validator:ve})),lt=[...D,...de,"stretch"],ge=e=>lt.includes(e),he=U("alignContent",()=>({type:String,default:null,validator:ge})),Q={align:Object.keys(pe),justify:Object.keys(me),alignContent:Object.keys(he)},ct={align:"align",justify:"justify",alignContent:"align-content"};function rt(e,t,n){let o=ct[e];if(n!=null){if(t){const s=t.replace(e,"");o+=`-${s}`}return o+=`-${n}`,o.toLowerCase()}}const ut=N({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:fe},...pe,justify:{type:String,default:null,validator:ve},...me,alignContent:{type:String,default:null,validator:ge},...he,...z(),...ie()},"VRow"),dt=M()({name:"VRow",props:ut(),setup(e,t){let{slots:n}=t;const o=f(()=>{const s=[];let a;for(a in Q)Q[a].forEach(l=>{const r=e[l],d=rt(a,l,r);d&&s.push(d)});return s.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),s});return()=>{var s;return te(e.tag,{class:["v-row",o.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),ee=je("App",{web:()=>ne(()=>import("./B4ktqcAC.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(e=>new e.AppWeb)}),ft={setup(){return{store:le()}},data:()=>({select:null,selector:[{id:1,text:"Color",page:"/color"},{id:2,text:"Effect",page:"/effect"},{id:0,text:"Dmx Mode 0",page:"/config"},{id:3,text:"Dmx Mode 1",page:"/config"}]}),async mounted(){this.store.btAvailable=await this.$espconfig.getAvailability(),this.store.btAvailable?this.setEspConfig():this.store.btIcon="mdi-close-box",ee.addListener("backButton",({canGoBack:e})=>{this.disconnect(),ee.exitApp()})},methods:{async onConnected(){const{$event:e}=J();this.store.btStat=!0,this.btnHandler("disconnect"),this.store.apName=this.$espconfig.device.name,await this.recieveCredentials(),this.select=this.selector.find(t=>t.id===this.store.config.mode),T(this.select.page),e("bt:connected")},onDisconnected(){const{$event:e}=J();this.store.btStat=!1,this.btnHandler("connect"),this.store.apName="",this.select=null,T("/"),e("bt:disconnected")},setEspConfig(){this.$espconfig.setSsidListUuid("1d338124-7ddc-449e-afc7-67f8673a1160"),this.$espconfig.setConnectionStatusUuid("5b3595c4-ad4f-4e1e-954e-3b290cc02eb0"),this.$espconfig.setOnConnected(this.onConnected),this.$espconfig.setOnDisconnected(this.onDisconnected)},async recieveCredentials(){let e;const t=new TextDecoder("windows-1252"),n=await this.$espconfig.readCredentials();e=Ge(this.store.apName,n),e=t.decode(e),this.store.config=JSON.parse(e),await this.recieveWifiList(),this.$espconfig.connectionStatusUuid&&await this.$espconfig.startConnectionstatusNotifications(o=>{this.apStatus=o.target.value.getUint8()})},async recieveWifiList(){if(this.$espconfig.ssidListUuid){const e=new TextDecoder("windows-1252");let t=await this.$espconfig.readSsidlist();if(t)return t=e.decode(t),t=JSON.parse(t),this.wifiList=t.SSID,t;this.dropdownMessage="-- SSID from ESP32 --"}},async disconnect(){await this.$espconfig.disconnect()},async connectClick(){this.store.btStat?await this.$espconfig.disconnect():(this.setEspConfig(),this.btnHandler("searching"),await this.$espconfig.request().then(e=>this.$espconfig.connect()).catch(e=>{throw this.btnHandler("connect"),e}))},btnHandler(e){switch(e){case"connect":this.store.btBtnText="Connect ",this.store.btIcon="mdi-bluetooth";break;case"disconnect":this.store.btBtnText="Disconnect ",this.store.btIcon="mdi-bluetooth-off";break;case"searching":this.store.btBtnText="Connecting... ",this.store.btIcon="mdi-bluetooth-connect";break}},onSelect(e){this.store.config.mode=e.id,this.$espconfig.writeEffect(Ke(this.store.apName,{mode:this.store.config.mode})),T(e.page)}}};function pt(e,t,n,o,s,a){return oe(),Oe("div",null,[v(qe,{"no-gutters":"",class:"pa-0 ma-0"},{default:b(()=>[v(dt,null,{default:b(()=>[v(R,null,{default:b(()=>[v(We,{"prepend-icon":o.store.btIcon,onClick:a.connectClick},{default:b(()=>[Te(ae(o.store.btBtnText),1)]),_:1},8,["prepend-icon","onClick"])]),_:1}),v(R,null,{default:b(()=>[v(Je,{density:"compact","hide-details":"auto",label:"Mode","hide-selected":"",disabled:!o.store.btStat,items:e.selector,"item-title":"text","item-value":"id",modelValue:e.select,"onUpdate:modelValue":[t[0]||(t[0]=l=>e.select=l),a.onSelect],"return-object":""},null,8,["disabled","items","modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})])}const ye=se(ft,[["render",pt]]),vt=N({...z(),...Qe({fullHeight:!0}),...Re()},"VApp"),mt=M()({name:"VApp",props:vt(),setup(e,t){let{slots:n}=t;const o=Be(e),{layoutClasses:s,getLayoutItem:a,items:l,layoutRef:r}=tt(e),{rtlClasses:d}=Me();return Fe(()=>{var g;return v("div",{ref:r,class:["v-application",o.themeClasses.value,s.value,d.value,e.class],style:[e.style]},[v("div",{class:"v-application__wrap"},[(g=n.default)==null?void 0:g.call(n)])])}),{getLayoutItem:a,items:l,theme:o}}}),{version:gt}=Object.assign({"../package.json":()=>ne(()=>import("./CxxVowV5.js"),__vite__mapDeps([]),import.meta.url)}),ht={setup(){return{store:le()}},components:{Navbar:ye},data(){return{version:gt}}};function yt(e,t,n,o,s,a){const l=ye,r=Ue,d=Ze;return oe(),ze(d,null,{default:b(()=>[v(mt,null,{default:b(()=>[v(l),v(Xe,null,{default:b(()=>[v(R,null,{default:b(()=>[v(r),De("p",null,ae(s.version),1)]),_:1})]),_:1})]),_:1})]),_:1})}const wt=se(ht,[["render",yt]]);export{wt as default};
