import{L,ap as xe,c as f,r as Ve,as as I,at as Ne,N as Ie,o as ke,am as Le,au as Ae,P as k,av as A,aw as M,a9 as z,g as ee,_ as te,q as T,t as ne,v as je,z as v,A as b,B as Pe,y as se,m as J,ah as Ee,ai as Oe,a6 as Te,ad as Re,ax as Me,x as ze,ay as Be}from"./entry.y8-opber.js";import{u as De,m as B,s as oe,e as ae,f as Ue,j as He,V as Ge,d as Ke,a as We}from"./VSheet.DvNDkNhk.js";import{c as qe,_ as Fe,a as Je}from"./VSelect.CHcOjiDh.js";const Z=Symbol.for("vuetify:layout"),Ze=Symbol.for("vuetify:layout-item"),X=1e3,Xe=L({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Ye=(e,t,n,o)=>{let s={top:0,left:0,right:0,bottom:0};const a=[{id:"",layer:{...s}}];for(const l of e){const r=t.get(l),d=n.get(l),m=o.get(l);if(!r||!d||!m)continue;const _={...s,[r.value]:parseInt(s[r.value],10)+(m.value?parseInt(d.value,10):0)};a.push({id:l,layer:_}),s=_}return a};function Qe(e){const t=xe(Z,null),n=f(()=>t?t.rootZIndex.value-100:X),o=Ve([]),s=I(new Map),a=I(new Map),l=I(new Map),r=I(new Map),d=I(new Map),{resizeRef:m,contentRect:_}=De(),he=f(()=>{const c=new Map,g=e.overlaps??[];for(const i of g.filter(p=>p.includes(":"))){const[p,u]=i.split(":");if(!o.value.includes(p)||!o.value.includes(u))continue;const y=s.get(p),S=s.get(u),x=a.get(p),V=a.get(u);!y||!S||!x||!V||(c.set(u,{position:y.value,amount:parseInt(x.value,10)}),c.set(p,{position:S.value,amount:-parseInt(V.value,10)}))}return c}),C=f(()=>{const c=[...new Set([...l.values()].map(i=>i.value))].sort((i,p)=>i-p),g=[];for(const i of c){const p=o.value.filter(u=>{var y;return((y=l.get(u))==null?void 0:y.value)===i});g.push(...p)}return Ye(g,s,a,r)}),H=f(()=>!Array.from(d.values()).some(c=>c.value)),$=f(()=>C.value[C.value.length-1].layer),ye=f(()=>({"--v-layout-left":k($.value.left),"--v-layout-right":k($.value.right),"--v-layout-top":k($.value.top),"--v-layout-bottom":k($.value.bottom),...H.value?void 0:{transition:"none"}})),w=f(()=>C.value.slice(1).map((c,g)=>{let{id:i}=c;const{layer:p}=C.value[g],u=a.get(i),y=s.get(i);return{id:i,...p,size:Number(u.value),position:y.value}})),G=c=>w.value.find(g=>g.id===c),j=Ne("createLayout"),K=Ie(!1);ke(()=>{K.value=!0}),Le(Z,{register:(c,g)=>{let{id:i,order:p,position:u,layoutSize:y,elementSize:S,active:x,disableTransitions:V,absolute:_e}=g;l.set(i,p),s.set(i,u),a.set(i,y),r.set(i,x),V&&d.set(i,V);const W=Ae(Ze,j==null?void 0:j.vnode).indexOf(c);W>-1?o.value.splice(W,0,i):o.value.push(i);const q=f(()=>w.value.findIndex(N=>N.id===i)),P=f(()=>n.value+C.value.length*2-q.value*2),Ce=f(()=>{const N=u.value==="left"||u.value==="right",E=u.value==="right",we=u.value==="bottom",F={[u.value]:0,zIndex:P.value,transform:`translate${N?"X":"Y"}(${(x.value?0:-110)*(E||we?-1:1)}%)`,position:_e.value||n.value!==X?"absolute":"fixed",...H.value?void 0:{transition:"none"}};if(!K.value)return F;const h=w.value[q.value];if(!h)throw new Error(`[Vuetify] Could not find layout item "${i}"`);const O=he.value.get(i);return O&&(h[O.position]+=O.amount),{...F,height:N?`calc(100% - ${h.top}px - ${h.bottom}px)`:S.value?`${S.value}px`:void 0,left:E?void 0:`${h.left}px`,right:E?`${h.right}px`:void 0,top:u.value!=="bottom"?`${h.top}px`:void 0,bottom:u.value!=="top"?`${h.bottom}px`:void 0,width:N?S.value?`${S.value}px`:void 0:`calc(100% - ${h.left}px - ${h.right}px)`}}),$e=f(()=>({zIndex:P.value-1}));return{layoutItemStyles:Ce,layoutItemScrimStyles:$e,zIndex:P}},unregister:c=>{l.delete(c),s.delete(c),a.delete(c),r.delete(c),d.delete(c),o.value=o.value.filter(g=>g!==c)},mainRect:$,mainStyles:ye,getLayoutItem:G,items:w,layoutRect:_,rootZIndex:n});const be=f(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),Se=f(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:be,layoutStyles:Se,getLayoutItem:G,items:w,layoutRect:_,layoutRef:m}}const ie=A.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),le=A.reduce((e,t)=>{const n="offset"+M(t);return e[n]={type:[String,Number],default:null},e},{}),ce=A.reduce((e,t)=>{const n="order"+M(t);return e[n]={type:[String,Number],default:null},e},{}),Y={col:Object.keys(ie),offset:Object.keys(le),order:Object.keys(ce)};function et(e,t,n){let o=e;if(!(n==null||n===!1)){if(t){const s=t.replace(e,"");o+=`-${s}`}return e==="col"&&(o="v-"+o),e==="col"&&(n===""||n===!0)||(o+=`-${n}`),o.toLowerCase()}}const tt=["auto","start","end","center","baseline","stretch"],nt=L({cols:{type:[Boolean,String,Number],default:!1},...ie,offset:{type:[String,Number],default:null},...le,order:{type:[String,Number],default:null},...ce,alignSelf:{type:String,default:null,validator:e=>tt.includes(e)},...B(),...oe()},"VCol"),R=z()({name:"VCol",props:nt(),setup(e,t){let{slots:n}=t;const o=f(()=>{const s=[];let a;for(a in Y)Y[a].forEach(r=>{const d=e[r],m=et(a,r,d);m&&s.push(m)});const l=s.some(r=>r.startsWith("v-col-"));return s.push({"v-col":!l||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),s});return()=>{var s;return ee(e.tag,{class:[o.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),D=["start","end","center"],re=["space-between","space-around","space-evenly"];function U(e,t){return A.reduce((n,o)=>{const s=e+M(o);return n[s]=t(),n},{})}const st=[...D,"baseline","stretch"],ue=e=>st.includes(e),de=U("align",()=>({type:String,default:null,validator:ue})),ot=[...D,...re],fe=e=>ot.includes(e),pe=U("justify",()=>({type:String,default:null,validator:fe})),at=[...D,...re,"stretch"],ve=e=>at.includes(e),ge=U("alignContent",()=>({type:String,default:null,validator:ve})),Q={align:Object.keys(de),justify:Object.keys(pe),alignContent:Object.keys(ge)},it={align:"align",justify:"justify",alignContent:"align-content"};function lt(e,t,n){let o=it[e];if(n!=null){if(t){const s=t.replace(e,"");o+=`-${s}`}return o+=`-${n}`,o.toLowerCase()}}const ct=L({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:ue},...de,justify:{type:String,default:null,validator:fe},...pe,alignContent:{type:String,default:null,validator:ve},...ge,...B(),...oe()},"VRow"),rt=z()({name:"VRow",props:ct(),setup(e,t){let{slots:n}=t;const o=f(()=>{const s=[];let a;for(a in Q)Q[a].forEach(l=>{const r=e[l],d=lt(a,l,r);d&&s.push(d)});return s.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),s});return()=>{var s;return ee(e.tag,{class:["v-row",o.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),ut={setup(){return{store:ae()}},data:()=>({select:null,selector:[{id:1,text:"Color",page:"/color"},{id:2,text:"Effect",page:"/effect"},{id:0,text:"Dmx Mode 0",page:"/config"},{id:3,text:"Dmx Mode 1",page:"/config"}]}),async mounted(){this.store.btAvailable=await this.$espconfig.getAvailability(),console.log(this.store.btAvailable),this.store.btAvailable?this.setEspConfig():this.store.btIcon="mdi-close-box"},methods:{async onConnected(){const{$event:e}=J();this.store.btStat=!0,this.btnHandler("disconnect"),this.store.apName=this.$espconfig.device.name,console.log(this.store.apName),await this.recieveCredentials(),this.select=this.selector.find(t=>t.id===this.store.config.mode),console.log(this.select),T(this.select.page),e("bt:connected")},onDisconnected(){const{$event:e}=J();this.store.btStat=!1,this.btnHandler("connect"),this.store.apName="",this.select=null,T("/"),e("bt:disconnected")},setEspConfig(){this.$espconfig.setSsidListUuid("1d338124-7ddc-449e-afc7-67f8673a1160"),this.$espconfig.setConnectionStatusUuid("5b3595c4-ad4f-4e1e-954e-3b290cc02eb0"),this.$espconfig.setOnConnected(this.onConnected),this.$espconfig.setOnDisconnected(this.onDisconnected)},async recieveCredentials(){let e;const t=new TextDecoder("windows-1252"),n=await this.$espconfig.readCredentials();e=Ue(this.store.apName,n),e=t.decode(e),console.log(e),this.store.config=JSON.parse(e),await this.recieveWifiList(),this.$espconfig.connectionStatusUuid&&await this.$espconfig.startConnectionstatusNotifications(o=>{this.apStatus=o.target.value.getUint8()})},async recieveWifiList(){if(this.$espconfig.ssidListUuid){const e=new TextDecoder("windows-1252");let t=await this.$espconfig.readSsidlist();if(t)return t=e.decode(t),t=JSON.parse(t),this.wifiList=t.SSID,t;this.dropdownMessage="-- SSID from ESP32 --"}},async connectClick(){console.log(this.$espconfig),this.store.btStat?await this.$espconfig.disconnect():(this.btnHandler("searching"),await this.$espconfig.request().then(e=>this.$espconfig.connect()).catch(e=>{throw this.btnHandler("connect"),e}))},btnHandler(e){switch(e){case"connect":this.store.btBtnText="Connect ",this.store.btIcon="mdi-bluetooth";break;case"disconnect":this.store.btBtnText="Disconnect ",this.store.btIcon="mdi-bluetooth-off";break;case"searching":this.store.btBtnText="Connecting... ",this.store.btIcon="mdi-bluetooth-connect";break}},onSelect(e){console.log("update",e.page),this.store.config.mode=e.id,this.$espconfig.writeEffect(He(this.store.apName,{mode:this.store.config.mode})),console.log(this.store.config),T(e.page)}}};function dt(e,t,n,o,s,a){return ne(),je("div",null,[v(Ke,{"no-gutters":"",class:"pa-0 ma-0"},{default:b(()=>[v(rt,null,{default:b(()=>[v(R,null,{default:b(()=>[v(Ge,{"prepend-icon":o.store.btIcon,onClick:a.connectClick},{default:b(()=>[Pe(se(o.store.btBtnText),1)]),_:1},8,["prepend-icon","onClick"])]),_:1}),v(R,null,{default:b(()=>[v(qe,{density:"compact","hide-details":"auto",label:"Mode","hide-selected":"",disabled:!o.store.btStat,items:e.selector,"item-title":"text","item-value":"id",modelValue:e.select,"onUpdate:modelValue":[t[0]||(t[0]=l=>e.select=l),a.onSelect],"return-object":""},null,8,["disabled","items","modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})])}const me=te(ut,[["render",dt]]),ft=L({...B(),...Xe({fullHeight:!0}),...Ee()},"VApp"),pt=z()({name:"VApp",props:ft(),setup(e,t){let{slots:n}=t;const o=Oe(e),{layoutClasses:s,getLayoutItem:a,items:l,layoutRef:r}=Qe(e),{rtlClasses:d}=Te();return We(()=>{var m;return v("div",{ref:r,class:["v-application",o.themeClasses.value,s.value,d.value,e.class],style:[e.style]},[v("div",{class:"v-application__wrap"},[(m=n.default)==null?void 0:m.call(n)])])}),{getLayoutItem:a,items:l,theme:o}}}),{version:vt}=Object.assign({"../package.json":()=>Me(()=>import("./package.B81wh-bu.js"),__vite__mapDeps([]),import.meta.url)}),gt={setup(){return{store:ae()}},components:{Navbar:me},data(){return{version:vt}}};function mt(e,t,n,o,s,a){const l=me,r=Be,d=Fe;return ne(),Re(d,null,{default:b(()=>[v(pt,null,{default:b(()=>[v(l),v(Je,null,{default:b(()=>[v(R,null,{default:b(()=>[v(r),ze("p",null,se(s.version),1)]),_:1})]),_:1})]),_:1})]),_:1})}const _t=te(gt,[["render",mt]]);export{_t as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
